<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h2>{{ _('Welcome, ') }}{{ username }}</h2>
    <p>{{ _('Your saved tokens:') }}</p>
    <table class="table table-bordered">
        <thead><tr><th>Service</th><th>Current Code</th><th>Action</th></tr></thead>
        <tbody>
        {% for token in tokens %}
            <tr>
                <td>{{ token.service }}</td>
                <td>{{ pyotp.TOTP(token.secret).now() }}</td>
                <td><a href="/delete_token/{{ token.id }}" class="btn btn-danger btn-sm">Delete</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="/add_token" class="btn btn-primary">Add Token</a>
    <a href="/import_token" class="btn btn-secondary">Import</a>
    <a href="/export_tokens" class="btn btn-success">Export</a>
    <a href="/logout" class="btn btn-dark">Logout</a>
</body>
</html>
